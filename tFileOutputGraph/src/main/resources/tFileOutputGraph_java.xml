<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT> 
  <HEADER AUTHOR="Gabriele Baldassarre" COMPATIBILITY="ALL" DATA_AUTO_PROPAGATE="false" HAS_CONDITIONAL_OUTPUTS="false" IS_MULTIPLYING_OUTPUTS="false" PLATEFORM="ALL" RELEASE_DATE="20120928" SCHEMA_AUTO_PROPAGATE="false" SERIAL="" SHORTNAME="tFileOutputGML" STARTABLE="false" STATUS="BETA" VERSION="0.100" >
    <SIGNATURE/> 
  </HEADER>  
  <FAMILIES> 
    <FAMILY>Graph Analysis</FAMILY>  
    <FAMILY>File/Output</FAMILY> 
  </FAMILIES>  
  <DOCUMENTATION> 
    <URL>http://gabrielebaldassarre.com/talend/tfileoutputgraph</URL> 
  </DOCUMENTATION>  
  <CONNECTORS> 
    <CONNECTOR CTYPE="FLOW" MAX_INPUT="2" MIN_INPUT="1" MIN_OUTPUT="0" MAX_OUTPUT="1" />
    <CONNECTOR CTYPE="LOOKUP" COMPONENT="tHash"/>
    <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="0"/>
    <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
    <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
    <CONNECTOR CTYPE="COMPONENT_OK"/>
    <CONNECTOR CTYPE="COMPONENT_ERROR"/>
    <CONNECTOR CTYPE="RUN_IF"/>
  </CONNECTORS>  
  <PARAMETERS> 
    <PARAMETER FIELD="SCHEMA_TYPE" NAME="OUT_SCHEMA" NUM_ROW="1" REQUIRED="true"/>
    <PARAMETER FIELD="FILE" NAME="GML_FILE" NUM_ROW="2" REQUIRED="true">
			<DEFAULT>"__COMP_DEFAULT_FILE_DIR__/example.gml"</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="PREV_COLUMN_LIST" GROUP="NODELIST" NAME="NODE_ID" NUM_ROW="4" REQUIRED="true"/>
    <PARAMETER FIELD="PREV_COLUMN_LIST" GROUP="NODELIST" NAME="NODE_LABEL" NUM_ROW="5" REQUIRED="true"/>
    <PARAMETER FIELD="CHECK" NAME="INCLUDE_EDGES" NUM_ROW="6" REQUIRED="true">
      <DEFAULT>true</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="LOOKUP_COLUMN_LIST" GROUP="EDGELIST" NAME="EDGE_SOURCE" NUM_ROW="7" REQUIRED="true" SHOW_IF="INCLUDE_EDGES == 'true'"/>
    <PARAMETER FIELD="LOOKUP_COLUMN_LIST" GROUP="EDGELIST" NAME="EDGE_TARGET" NUM_ROW="8" REQUIRED="true" SHOW_IF="INCLUDE_EDGES == 'true'"/>
    <PARAMETER FIELD="CHECK" NAME="HAVE_WEIGHT" NUM_ROW="9" REQUIRED="true" SHOW_IF="INCLUDE_EDGES == 'true'" GROUP="EDGELIST">
      <DEFAULT>false</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="LOOKUP_COLUMN_LIST" GROUP="EDGELIST" NAME="EDGE_WEIGHT" NUM_ROW="9" REQUIRED="false" SHOW_IF="(INCLUDE_EDGES == 'true') AND (HAVE_WEIGHT == 'true')"/>
    <PARAMETER FIELD="CHECK" NAME="HAVE_LABEL" NUM_ROW="10" REQUIRED="true" SHOW_IF="INCLUDE_EDGES == 'true'" GROUP="EDGELIST">
      <DEFAULT>false</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="LOOKUP_COLUMN_LIST" GROUP="EDGELIST" NAME="EDGE_LABEL" NUM_ROW="10" REQUIRED="false" SHOW_IF="(INCLUDE_EDGES == 'true') AND (HAVE_LABEL == 'true')"/>
    <PARAMETER FIELD="LABEL" NAME="EDGE_HOWTO" NUM_ROW="11" SHOW_IF="INCLUDE_EDGES == 'true'" GROUP="EDGELIST">
      <DEFAULT>*If you want to include edges in output map, you MUST provide a lookup connection  with 2...4 columns describing edge links</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="CLOSED_LIST" NAME="GRAPH_TYPE" NUM_ROW="3" REQUIRED="true">
      <ITEMS DEFAULT="0">
        <ITEM NAME="UNDIRECTED" VALUE="0" />
        <ITEM NAME="DIRECTED" VALUE="1" />
      </ITEMS>
    </PARAMETER>
  </PARAMETERS>  
  <ADVANCED_PARAMETERS>
    <PARAMETER FIELD="TEXT" NAME="GRAPH_LABEL" NUM_ROW="1" REQUIRED="false" >
      <DEFAULT>"Test Graph"</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="AUTHOR" NUM_ROW="2" REQUIRED="false" GROUP="FILEPARAMETERS">
      <DEFAULT>"__AUTHOR__"</DEFAULT>
    </PARAMETER>
		<PARAMETER GROUP="FILEPARAMETERS" NAME="FILE_ENCODING" FIELD="ENCODING_TYPE" NUM_ROW="3"
			REQUIRED="true" REPOSITORY_VALUE="ENCODING">
			<DEFAULT>"UTF-8"</DEFAULT>
		</PARAMETER>
    <PARAMETER FIELD="CLOSED_LIST" GROUP="FILEPARAMETERS" NAME="ROW_DELIMITER" NUM_ROW="4" REQUIRED="true">
			<ITEMS DEFAULT="LF">
				<ITEM NAME="LF" VALUE="&quot;\n&quot;"></ITEM>
				<ITEM NAME="CR" VALUE="&quot;\r&quot;"></ITEM>
				<ITEM NAME="CRLF" VALUE="&quot;\r\n&quot;"></ITEM>
			</ITEMS>
    </PARAMETER>
  </ADVANCED_PARAMETERS>  
  <CODEGENERATION></CODEGENERATION>  
  <RETURNS> 
    <RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer"/>  
    <RETURN AVAILABILITY="AFTER" NAME="NB_NODES" TYPE="id_Integer"/>  
    <RETURN AVAILABILITY="AFTER" NAME="NB_EDGES" TYPE="id_Integer"/> 
  </RETURNS> 
</COMPONENT>
